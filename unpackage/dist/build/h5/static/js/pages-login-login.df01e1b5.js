(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"1b2c":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".login[data-v-16f3c98f]{position:relative;width:%?750?%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:0 %?30?%}.login uni-image[data-v-16f3c98f]{position:absolute;top:0;left:0;width:100%;height:100%}.login .loginTitle[data-v-16f3c98f]{position:relative;margin-top:%?200?%}.login .loginTitle .text[data-v-16f3c98f]{position:relative;z-index:10;font-size:%?36?%;color:#333;font-weight:580}.login .loginTitle .line[data-v-16f3c98f]{position:absolute;left:1px;bottom:0;z-index:9;height:%?10?%;width:%?142?%;-webkit-border-radius:%?5?%;border-radius:%?5?%;background-color:#ffc843}.login .itemBox[data-v-16f3c98f]{position:relative;width:100%;margin:0 auto;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin-top:%?100?%}.login .itemBox .item[data-v-16f3c98f]{position:relative;height:%?88?%;margin-bottom:%?38?%;border-bottom:1px solid #f1f1f1;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.login .itemBox .item uni-input[data-v-16f3c98f]{width:100%;height:%?88?%;padding-left:%?60?%;font-size:14px}.login .itemBox .item.btnClick[data-v-16f3c98f]{border:0}.login .itemBox .item .image[data-v-16f3c98f]{position:relative;width:%?120?%;height:100%;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;font-size:%?28?%;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;color:#333;font-weight:580}.login .itemBox .item.errorInfo[data-v-16f3c98f]{position:absolute;bottom:0;left:%?20?%;-webkit-transform:translateY(%?50?%);-ms-transform:translateY(%?50?%);transform:translateY(%?50?%);border:0;height:%?44?%;color:#ff3434;font-size:%?24?%}.login .itemBtn[data-v-16f3c98f]{position:relative;z-index:99;margin-top:%?80?%}.login .itemBtn .btnClick[data-v-16f3c98f]{width:100%;height:%?88?%;-webkit-border-radius:%?44?%;border-radius:%?44?%;background:-webkit-gradient(linear,left bottom,left top,from(#ffca3c),to(#ffb932));background:-webkit-linear-gradient(bottom,#ffca3c,#ffb932);background:-o-linear-gradient(bottom,#ffca3c,#ffb932);background:linear-gradient(0deg,#ffca3c,#ffb932);-webkit-box-shadow:0 0 %?10?% 2px #ffca3c;box-shadow:0 0 %?10?% 2px #ffca3c;border:0}.login .itemBtn .btnClick uni-button[data-v-16f3c98f]{width:100%;height:100%;line-height:%?88?%;background-color:rgba(0,0,0,0);color:#333;font-size:%?28?%;border:0}.login .itemBtn .btnClick uni-button[data-v-16f3c98f]:after{border:0}",""])},"34d7":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("d132")),o=r(n("af2a")),a=r(n("7d17"));function r(t){return t&&t.__esModule?t:{default:t}}var s={data:function(){return{loading:!1,phone:"",password:"",errorText:"",option:null}},onShow:function(){},onLoad:function(t){this.option=t},watch:{phone:function(t){t&&(this.errorText="")},password:function(t){t&&(this.errorText="")}},methods:{defaultHandlerLogin:function(){var t=this;this.$api.SystemTime().then(function(t){console.log(t.data);var e={y:new Date(t.data).getFullYear(),m:new Date(t.data).getMonth()+1,d:new Date(t.data).getDate()};uni.setStorage({key:"thisYear",data:e,success:function(){}})}).catch(function(t){}),this.checkPhone()&&this.checkPwd()&&(this.loading=!0,setTimeout(function(e){t.loading=!1},1500),this.$api.Login({userName:this.phone,password:o.default.hexMD5(this.password).toUpperCase()}).then(function(e){0==e.code?(uni.setStorage({key:"userName",data:t.phone,success:function(){}}),i.default.setToken(e.data.token),t.option?uni.navigateTo({url:"/pages/index/index"}):uni.navigateBack({delta:1}),uni.showToast({icon:"none",title:"登录成功",duration:1500})):uni.showToast({icon:"none",title:e.message,duration:1500})}).catch(function(t){}))},checkPhone:function(){return!a.default.isEmpty(this.phone)||(this.errorText="账号不能为空！",!1)},checkPwd:function(){return a.default.isEmpty(this.password)?(this.errorText="密码不能为空！",!1):!!a.default.length(this.password,6,20)||(this.errorText="密码为6-20位",!1)}}};e.default=s},"7aaa":function(t,e,n){"use strict";n.r(e);var i=n("34d7"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=o.a},"7d17":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={isEmpty:function(t){if(""===t)return!0;var e=/^[\s\n]+$/;return e.test()},length:function(t,e,n){if(t=t.trim(),t.length>=e&&t.length<=n)return!0},isEmail:function(t){var e=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/;return e.test(t)},isMobile:function(t){var e=/^1[345789][\d]{9}$/;return e.test(t)},isIdCard:function(t){var e=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;return e.test(t)},alert:function(t,e,n){var i='<div class="mubu"><div class="dialog-box"><h4>'+t+"</h4><p>"+e+'</p><a class="dialog-submit">确定</a></div></div>';$("section").append(i),$(".dialog-submit").one("click",function(){var t=$(this).parents(".mubu");t.fadeOut("normal",function(){t.remove()}),n()})}},o=i;e.default=o},af2a:function(t,e,n){"use strict";function i(t,e){var n=(65535&t)+(65535&e),i=(t>>16)+(e>>16)+(n>>16);return i<<16|65535&n}function o(t,e){return t<<e|t>>>32-e}function a(t,e,n,a,r,s){return i(o(i(i(e,t),i(a,s)),r),n)}function r(t,e,n,i,o,r,s){return a(e&n|~e&i,t,e,o,r,s)}function s(t,e,n,i,o,r,s){return a(e&i|n&~i,t,e,o,r,s)}function c(t,e,n,i,o,r,s){return a(e^n^i,t,e,o,r,s)}function u(t,e,n,i,o,r,s){return a(n^(e|~i),t,e,o,r,s)}function f(t){for(var e=1732584193,n=-271733879,o=-1732584194,a=271733878,f=0;f<t.length;f+=16){var l=e,d=n,g=o,v=a;e=r(e,n,o,a,t[f+0],7,-680876936),a=r(a,e,n,o,t[f+1],12,-389564586),o=r(o,a,e,n,t[f+2],17,606105819),n=r(n,o,a,e,t[f+3],22,-1044525330),e=r(e,n,o,a,t[f+4],7,-176418897),a=r(a,e,n,o,t[f+5],12,1200080426),o=r(o,a,e,n,t[f+6],17,-1473231341),n=r(n,o,a,e,t[f+7],22,-45705983),e=r(e,n,o,a,t[f+8],7,1770035416),a=r(a,e,n,o,t[f+9],12,-1958414417),o=r(o,a,e,n,t[f+10],17,-42063),n=r(n,o,a,e,t[f+11],22,-1990404162),e=r(e,n,o,a,t[f+12],7,1804603682),a=r(a,e,n,o,t[f+13],12,-40341101),o=r(o,a,e,n,t[f+14],17,-1502002290),n=r(n,o,a,e,t[f+15],22,1236535329),e=s(e,n,o,a,t[f+1],5,-165796510),a=s(a,e,n,o,t[f+6],9,-1069501632),o=s(o,a,e,n,t[f+11],14,643717713),n=s(n,o,a,e,t[f+0],20,-373897302),e=s(e,n,o,a,t[f+5],5,-701558691),a=s(a,e,n,o,t[f+10],9,38016083),o=s(o,a,e,n,t[f+15],14,-660478335),n=s(n,o,a,e,t[f+4],20,-405537848),e=s(e,n,o,a,t[f+9],5,568446438),a=s(a,e,n,o,t[f+14],9,-1019803690),o=s(o,a,e,n,t[f+3],14,-187363961),n=s(n,o,a,e,t[f+8],20,1163531501),e=s(e,n,o,a,t[f+13],5,-1444681467),a=s(a,e,n,o,t[f+2],9,-51403784),o=s(o,a,e,n,t[f+7],14,1735328473),n=s(n,o,a,e,t[f+12],20,-1926607734),e=c(e,n,o,a,t[f+5],4,-378558),a=c(a,e,n,o,t[f+8],11,-2022574463),o=c(o,a,e,n,t[f+11],16,1839030562),n=c(n,o,a,e,t[f+14],23,-35309556),e=c(e,n,o,a,t[f+1],4,-1530992060),a=c(a,e,n,o,t[f+4],11,1272893353),o=c(o,a,e,n,t[f+7],16,-155497632),n=c(n,o,a,e,t[f+10],23,-1094730640),e=c(e,n,o,a,t[f+13],4,681279174),a=c(a,e,n,o,t[f+0],11,-358537222),o=c(o,a,e,n,t[f+3],16,-722521979),n=c(n,o,a,e,t[f+6],23,76029189),e=c(e,n,o,a,t[f+9],4,-640364487),a=c(a,e,n,o,t[f+12],11,-421815835),o=c(o,a,e,n,t[f+15],16,530742520),n=c(n,o,a,e,t[f+2],23,-995338651),e=u(e,n,o,a,t[f+0],6,-198630844),a=u(a,e,n,o,t[f+7],10,1126891415),o=u(o,a,e,n,t[f+14],15,-1416354905),n=u(n,o,a,e,t[f+5],21,-57434055),e=u(e,n,o,a,t[f+12],6,1700485571),a=u(a,e,n,o,t[f+3],10,-1894986606),o=u(o,a,e,n,t[f+10],15,-1051523),n=u(n,o,a,e,t[f+1],21,-2054922799),e=u(e,n,o,a,t[f+8],6,1873313359),a=u(a,e,n,o,t[f+15],10,-30611744),o=u(o,a,e,n,t[f+6],15,-1560198380),n=u(n,o,a,e,t[f+13],21,1309151649),e=u(e,n,o,a,t[f+4],6,-145523070),a=u(a,e,n,o,t[f+11],10,-1120210379),o=u(o,a,e,n,t[f+2],15,718787259),n=u(n,o,a,e,t[f+9],21,-343485551),e=i(e,l),n=i(n,d),o=i(o,g),a=i(a,v)}return[e,n,o,a]}function l(t){for(var e="0123456789abcdef",n="",i=0;i<4*t.length;i++)n+=e.charAt(t[i>>2]>>i%4*8+4&15)+e.charAt(t[i>>2]>>i%4*8&15);return n}function d(t){for(var e=1+(t.length+8>>6),n=new Array(16*e),i=0;i<16*e;i++)n[i]=0;for(i=0;i<t.length;i++)n[i>>2]|=(255&t.charCodeAt(i))<<i%4*8;return n[i>>2]|=128<<i%4*8,n[16*e-2]=8*t.length,n}function g(t){return l(f(d(t)))}t.exports={hexMD5:g}},bd49:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"login"},[n("v-uni-image",{attrs:{src:"../../static/loginbg.png"}}),n("v-uni-view",{staticClass:"loginTitle"},[n("v-uni-text",{staticClass:"text"},[t._v("登录食堂")]),n("v-uni-text",{staticClass:"line"})],1),n("v-uni-view",{staticClass:"itemBox"},[n("v-uni-view",{staticClass:"item"},[n("v-uni-view",{staticClass:"image"},[t._v("账号")]),n("v-uni-input",{staticClass:"is-input1",attrs:{type:"text",placeholder:"请输入账号","data-val":"phone"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),n("v-uni-view",{staticClass:"item pwd"},[n("v-uni-view",{staticClass:"image"},[t._v("密码")]),n("v-uni-input",{staticClass:"is-input1",attrs:{type:"password",placeholder:"请输入登录密码","data-val":"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("v-uni-view",{staticClass:"item errorInfo"},[t._v(t._s(t.errorText))])],1),n("v-uni-view",{staticClass:"itemBtn"},[n("v-uni-view",{staticClass:"btnClick"},[n("v-uni-button",{attrs:{loading:t.loading},on:{click:function(e){e=t.$handleEvent(e),t.defaultHandlerLogin(e)}}},[t._v(t._s(t.loading?"登录中...":"登 录"))])],1)],1)],1)},o=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o})},d132:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i="token",o="",a=function(){return uni.getStorage({key:i,success:function(t){o=t.data}}),o},r=function(t){uni.setStorage({key:i,data:t,success:function(){}})},s=function(){uni.removeStorage({key:i,success:function(t){console.log(t)}})},c=function(t,e,n){var i=parseInt(new Date(new Date(t+"/"+e+"/"+n).getTime()).getDay()),o=uni.getStorageSync("thisYear");if(t-o.y==0)if(e-o.m==0){if(n-o.d==1)return"明天";if(n-o.d==2)return"后天";switch(i){case 1:return"周一";case 2:return"周二";case 3:return"周三";case 4:return"周四";case 5:return"周五";case 6:return"周六";case 0:return"周天"}}else switch(i){case 1:return"周一";case 2:return"周二";case 3:return"周三";case 4:return"周四";case 5:return"周五";case 6:return"周六";case 0:return"周天"}},u=function(t){var e=t.split("T")[0],n=e.split("-")[1],i=e.split("-")[2];return n+"-"+i},f=function(t){return t.toFixed(2)},l={getToken:a,setToken:r,removeToken:s,judgeWeek:c,interceptMonth:u,toFix:f};e.default=l},d1fa:function(t,e,n){"use strict";n.r(e);var i=n("bd49"),o=n("7aaa");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("f980");var r=n("2877"),s=Object(r["a"])(o["default"],i["a"],i["b"],!1,null,"16f3c98f",null);e["default"]=s.exports},dff4:function(t,e,n){var i=n("1b2c");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("58419c67",i,!0,{sourceMap:!1,shadowMode:!1})},f980:function(t,e,n){"use strict";var i=n("dff4"),o=n.n(i);o.a}}]);